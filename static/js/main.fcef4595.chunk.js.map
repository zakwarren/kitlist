{"version":3,"sources":["theme/useCoreStyles.js","theme/index.js","utils/useComms.js","features/appShell/AppShell.js","utils/useInstaller.js","store/db.js","store/category/thunks.js","store/category/selectors.js","store/category/index.js","store/item/thunks.js","store/item/selectors.js","store/item/index.js","features/menu/MenuItem.js","features/menu/Menu.js","features/download/Download.js","features/kitList/KitList.js","features/categories/Categories.js","features/categories/manage/AddEdit.js","features/categories/manage/Delete.js","features/categories/manage/ManageCategories.js","features/items/manage/AddEdit.js","features/items/manage/Delete.js","features/items/Items.js","features/upload/Upload.js","features/index.js","App.js","serviceWorkerRegistration.js","reportWebVitals.js","store/index.js","index.js"],"names":["useCoreStyles","makeStyles","list","width","useGetTheme","createTheme","palette","type","primary","main","secondary","typography","fontFamily","fontSize","useStyles","theme","button","color","common","white","drawerWidth","drawer","breakpoints","up","drawerTitle","padding","spacing","cursor","drawerPaper","buttons","position","top","left","menuButton","marginLeft","marginRight","display","content","AppShell","props","sideBarContent","children","useState","deferredPrompt","setDeferredPrompt","useEffect","window","addEventListener","getInstallPrompt","removeEventListener","event","preventDefault","prompt","useInstaller","canInstall","promptForInstall","css","useTheme","push","useHistory","isDesktop","useMediaQuery","mobileOpen","setMobileOpen","handleDrawerToggle","Typography","variant","className","onClick","Divider","Drawer","anchor","direction","open","onClose","classes","paper","ModalProps","keepMounted","IconButton","edge","GetApp","db","Dexie","version","stores","category","item","clearCategories","createAsyncThunk","a","clear","getCategories","toArray","stored","addCategory","add","editCategory","oldCategory","newCategory","get","name","update","id","deleteCategory","where","equals","delete","getCategory","state","selectCategories","createSelector","categories","selectTickedCategories","tickedCategories","initialState","categorySlice","createSlice","reducers","clearSelected","toggleCategory","action","cat","payload","find","c","filter","uploadCategories","cats","map","extraReducers","fulfilled","existingIndex","findIndex","filtered","actions","clearItems","getItems","addItem","editItem","oldItem","newItem","deleteItem","getItem","selectItems","items","selectTickedItems","tickedItems","selectRemovedItems","removedItems","itemSlice","clearTicked","clearRemoved","toggleItem","i","removeItem","uploadItems","ti","ri","oldCat","newCat","catName","withCatNames","ticked","includes","card","margin","title","textAlign","MenuItem","Card","CardHeader","titleTypographyProps","menu","height","minHeight","flexDirection","justifyContent","alignItems","Menu","useSelector","dispatch","useDispatch","startList","useCallback","continueList","gutterBottom","length","DownloadButton","selectedCats","selectedItems","dataToDownload","JSON","stringify","href","encodeURIComponent","download","textDecoration","KitList","coreCss","handleToggle","value","handleRemove","itemsToDisplay","hasCatsTicked","hasRemovedITems","hasTickedItems","List","component","Paper","ListItem","divider","selected","ListItemIcon","Checkbox","checked","tabIndex","disableRipple","inputProps","ListItemText","ListItemSecondaryAction","header","Categories","subheader","ListSubheader","size","Edit","form","close","right","AddEditCategory","isOpen","isEdit","initialValues","validationSchema","yup","required","test","toLowerCase","Dialog","fullWidth","maxWidth","Close","DialogTitle","DialogContent","onSubmit","values","resetForm","isSubmitting","handleChange","TextField","label","onChange","error","Boolean","touched","errors","helperText","String","DialogActions","Button","disabled","DeleteCategory","deleteCat","ManageCategories","isEditOpen","setIsEditOpen","isDeleteOpen","setIsDeleteOpen","setSelected","onEditClose","onDeleteClose","ButtonGroup","startIcon","Delete","AddEditItem","select","DeleteItem","deleteItm","Items","closeEdit","closeDelete","Category","readFile","file","Promise","resolve","reject","reader","FileReader","onabort","onerror","onload","result","readAsText","Upload","enqueueSnackbar","useSnackbar","onRejected","parseFile","files","rawJson","parse","setTimeout","acceptedFiles","showAlerts","onDrop","onDropRejected","Layout","handleMessage","e","location","origin","data","tag","navigator","serviceWorker","controller","postMessage","reload","key","useComms","pathname","useLocation","path","exact","to","useSnackStyles","variantSuccess","backgroundColor","success","variantInfo","info","variantWarning","warning","variantError","Snacked","snackCss","notistackRef","createRef","onClickDismiss","current","closeSnackbar","preventDuplicate","anchorOrigin","vertical","horizontal","TransitionComponent","Zoom","autoHideDuration","ref","App","ThemeProvider","CssBaseline","isLocalhost","hostname","match","registerValidSW","swUrl","config","register","then","registration","onupdatefound","installingWorker","installing","onstatechange","waiting","onUpdate","onSuccess","catch","console","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","store","configureStore","reducer","categoryReducer","itemReducer","ReactDOM","render","StrictMode","basename","process","document","getElementById","URL","fetch","headers","response","contentType","status","indexOf","ready","unregister","checkValidServiceWorker","serviceWorkerRegistration"],"mappings":"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","file":"static/js/main.fcef4595.chunk.js","sourcesContent":["import { makeStyles } from \"@material-ui/core\";\r\n\r\nexport const useCoreStyles = makeStyles({\r\n  list: { width: \"clamp(300px, 60%, 100%)\" },\r\n});\r\n","import { createTheme } from \"@material-ui/core/styles\";\r\n\r\nexport const useGetTheme = () => {\r\n  const themeObj = {\r\n    palette: {\r\n      type: \"light\",\r\n      primary: { main: \"#ac1e1e\" },\r\n      secondary: { main: \"#190e4f\" },\r\n    },\r\n    typography: {\r\n      fontFamily: [\"Segoe UI\", \"Tahoma\", \"Geneva\", \"Verdana\", \"sans-serif\"],\r\n      fontSize: 16,\r\n    },\r\n  };\r\n\r\n  const theme = createTheme(themeObj);\r\n  return theme;\r\n};\r\n\r\nexport default useGetTheme;\r\n\r\nexport { useCoreStyles } from \"./useCoreStyles\";\r\n","import React, { useEffect, useCallback } from \"react\";\r\nimport { useSnackbar } from \"notistack\";\r\nimport { makeStyles, Button } from \"@material-ui/core\";\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n  button: { color: theme.palette.common.white },\r\n}));\r\n\r\nexport const useComms = () => {\r\n  const { enqueueSnackbar } = useSnackbar();\r\n  const css = useStyles();\r\n\r\n  const handleMessage = useCallback(\r\n    (e) => {\r\n      if (window.location.origin !== e.origin) return;\r\n      if (!e?.data?.tag) return;\r\n\r\n      switch (e.data.tag) {\r\n        case \"update\":\r\n          const update = () => {\r\n            navigator.serviceWorker.controller.postMessage({\r\n              type: \"SKIP_WAITING\",\r\n            });\r\n            window.location.reload();\r\n          };\r\n          const action = () => (\r\n            <>\r\n              <Button className={css.button} onClick={update}>\r\n                Update\r\n              </Button>\r\n            </>\r\n          );\r\n          enqueueSnackbar(\"An update is available\", {\r\n            variant: \"info\",\r\n            key: \"update\",\r\n            action,\r\n          });\r\n          break;\r\n        case \"installed\":\r\n          enqueueSnackbar(\"Home is now installed\", {\r\n            variant: \"info\",\r\n            key: \"installed\",\r\n          });\r\n          break;\r\n        case \"offline\":\r\n          enqueueSnackbar(\"Home is running in offline mode\", {\r\n            variant: \"info\",\r\n            key: \"offline\",\r\n          });\r\n          break;\r\n        default:\r\n          break;\r\n      }\r\n    },\r\n    [enqueueSnackbar, css]\r\n  );\r\n\r\n  useEffect(() => {\r\n    window.addEventListener(\"message\", handleMessage);\r\n\r\n    return () => window.removeEventListener(\"message\", handleMessage);\r\n  });\r\n};\r\n","import React, { useState } from \"react\";\r\nimport PropTypes from \"prop-types\";\r\nimport { useHistory } from \"react-router-dom\";\r\nimport {\r\n  makeStyles,\r\n  Divider,\r\n  Drawer,\r\n  Typography,\r\n  IconButton,\r\n  useTheme,\r\n  useMediaQuery,\r\n} from \"@material-ui/core\";\r\nimport { Menu as MenuIcon, GetApp as GetAppIcon } from \"@material-ui/icons\";\r\n\r\nimport { useInstaller } from \"utils\";\r\n\r\nconst drawerWidth = 240;\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n  drawer: {\r\n    [theme.breakpoints.up(\"sm\")]: {\r\n      width: drawerWidth,\r\n    },\r\n  },\r\n  drawerTitle: { padding: theme.spacing(2), cursor: \"pointer\" },\r\n  drawerPaper: { width: drawerWidth },\r\n  buttons: {\r\n    [theme.breakpoints.up(\"sm\")]: {\r\n      position: \"absolute\",\r\n      top: \"1rem\",\r\n      left: `calc(${drawerWidth}px + 1rem)`,\r\n    },\r\n  },\r\n  menuButton: {\r\n    marginLeft: theme.spacing(2),\r\n    marginRight: theme.spacing(2),\r\n    [theme.breakpoints.up(\"sm\")]: { display: \"none\" },\r\n  },\r\n  content: {\r\n    padding: theme.spacing(3),\r\n    [theme.breakpoints.up(\"sm\")]: { marginLeft: drawerWidth },\r\n  },\r\n}));\r\n\r\nexport const AppShell = (props) => {\r\n  const { sideBarContent, children } = props;\r\n  const [canInstall, promptForInstall] = useInstaller();\r\n  const css = useStyles();\r\n  const theme = useTheme();\r\n  const { push } = useHistory();\r\n  const isDesktop = useMediaQuery(theme.breakpoints.up(\"sm\"));\r\n  const [mobileOpen, setMobileOpen] = useState(false);\r\n\r\n  const handleDrawerToggle = () => setMobileOpen(!mobileOpen);\r\n\r\n  const drawer = (\r\n    <>\r\n      <Typography\r\n        variant=\"h4\"\r\n        className={css.drawerTitle}\r\n        onClick={() => push(\"/\")}\r\n      >\r\n        Kit List\r\n      </Typography>\r\n      <Divider />\r\n      {sideBarContent}\r\n    </>\r\n  );\r\n\r\n  return (\r\n    <>\r\n      <nav className={css.drawer} aria-label=\"mailbox folders\">\r\n        <Drawer\r\n          variant={!isDesktop ? \"temporary\" : \"permanent\"}\r\n          anchor={theme.direction === \"rtl\" ? \"right\" : \"left\"}\r\n          open={isDesktop || mobileOpen}\r\n          onClose={handleDrawerToggle}\r\n          classes={{ paper: css.drawerPaper }}\r\n          ModalProps={{ keepMounted: true }}\r\n        >\r\n          {drawer}\r\n        </Drawer>\r\n      </nav>\r\n      <div className={css.buttons}>\r\n        <IconButton\r\n          color=\"inherit\"\r\n          aria-label=\"open drawer\"\r\n          edge=\"start\"\r\n          onClick={handleDrawerToggle}\r\n          className={css.menuButton}\r\n        >\r\n          <MenuIcon />\r\n        </IconButton>\r\n        {canInstall && (\r\n          <IconButton\r\n            color=\"inherit\"\r\n            aria-label=\"install app\"\r\n            onClick={promptForInstall}\r\n          >\r\n            <GetAppIcon />\r\n          </IconButton>\r\n        )}\r\n      </div>\r\n      <main className={css.content}>{children}</main>\r\n    </>\r\n  );\r\n};\r\n\r\nAppShell.propTypes = {\r\n  sideBarContent: PropTypes.element,\r\n  children: PropTypes.oneOfType([\r\n    PropTypes.element,\r\n    PropTypes.arrayOf(PropTypes.element),\r\n  ]),\r\n};\r\n","import { useState, useEffect } from \"react\";\r\n\r\nexport const useInstaller = () => {\r\n  const [deferredPrompt, setDeferredPrompt] = useState(null);\r\n\r\n  useEffect(() => {\r\n    window.addEventListener(\"beforeinstallprompt\", getInstallPrompt);\r\n    return () => {\r\n      window.removeEventListener(\"beforeinstallprompt\", getInstallPrompt);\r\n    };\r\n  }, []);\r\n\r\n  const getInstallPrompt = (event) => {\r\n    event.preventDefault();\r\n    setDeferredPrompt(event);\r\n    return false;\r\n  };\r\n\r\n  const promptForInstall = () => {\r\n    if (deferredPrompt) {\r\n      deferredPrompt.prompt();\r\n      setDeferredPrompt(null);\r\n    }\r\n  };\r\n\r\n  return [deferredPrompt !== null, promptForInstall];\r\n};\r\n","import Dexie from \"dexie\";\r\n\r\nconst db = new Dexie(\"KitList\");\r\n\r\ndb.version(1).stores({\r\n  category: \"++id, name\",\r\n  item: \"++id, name, category\",\r\n});\r\n\r\nexport default db;\r\n","import { createAsyncThunk } from \"@reduxjs/toolkit\";\r\nimport db from \"../db\";\r\n\r\nexport const clearCategories = createAsyncThunk(\r\n  \"category/clear\",\r\n  async () => await db.category.clear()\r\n);\r\n\r\nexport const getCategories = createAsyncThunk(\"category/get\", async () => {\r\n  const stored = await db.category.toArray();\r\n  return stored;\r\n});\r\n\r\nexport const addCategory = createAsyncThunk(\r\n  \"category/add\",\r\n  async (category) => {\r\n    await db.category.add(category);\r\n    return category;\r\n  }\r\n);\r\n\r\nexport const editCategory = createAsyncThunk(\r\n  \"category/edit\",\r\n  async ({ oldCategory, newCategory }) => {\r\n    const stored = await db.category.get({ name: oldCategory.name });\r\n    await db.category.update(stored.id, newCategory);\r\n    return { oldCategory, newCategory };\r\n  }\r\n);\r\n\r\nexport const deleteCategory = createAsyncThunk(\r\n  \"category/delete\",\r\n  async (category) => {\r\n    await db.category.where(\"name\").equals(category.name).delete();\r\n    return category;\r\n  }\r\n);\r\n","import { createSelector } from \"@reduxjs/toolkit\";\r\n\r\nconst getCategory = (state) => state.category;\r\n\r\nexport const selectCategories = createSelector(\r\n  getCategory,\r\n  (category) => category.categories\r\n);\r\n\r\nexport const selectTickedCategories = createSelector(\r\n  getCategory,\r\n  (category) => category.tickedCategories\r\n);\r\n","import { createSlice } from \"@reduxjs/toolkit\";\r\n\r\nimport {\r\n  clearCategories,\r\n  getCategories,\r\n  addCategory,\r\n  editCategory,\r\n  deleteCategory,\r\n} from \"./thunks\";\r\n\r\nconst initialState = { categories: [], tickedCategories: [] };\r\n\r\nconst categorySlice = createSlice({\r\n  name: \"category\",\r\n  initialState,\r\n  reducers: {\r\n    clearSelected: (state) => void (state.tickedCategories = []),\r\n    toggleCategory: (state, action) => {\r\n      const cat = action.payload;\r\n      const existing = state.tickedCategories.find((c) => c === cat.name);\r\n      if (existing) {\r\n        return {\r\n          ...state,\r\n          tickedCategories: state.tickedCategories.filter(\r\n            (c) => c !== cat.name\r\n          ),\r\n        };\r\n      }\r\n      state.tickedCategories.push(cat.name);\r\n    },\r\n    uploadCategories: (state, action) => {\r\n      const cats = action.payload;\r\n      state.categories = cats;\r\n      state.tickedCategories = cats.map((c) => c.name);\r\n    },\r\n  },\r\n  extraReducers: {\r\n    [clearCategories.fulfilled]: () => initialState,\r\n    [getCategories.fulfilled]: (state, action) =>\r\n      void (state.categories = action.payload),\r\n    [addCategory.fulfilled]: (state, action) =>\r\n      void state.categories.push(action.payload),\r\n    [editCategory.fulfilled]: (state, action) => {\r\n      const { oldCategory, newCategory } = action.payload;\r\n      const existingIndex = state.categories.findIndex(\r\n        (c) => c.name === oldCategory.name\r\n      );\r\n      state.categories[existingIndex] = newCategory;\r\n    },\r\n    [deleteCategory.fulfilled]: (state, action) => {\r\n      const cat = action.payload;\r\n      const filtered = state.categories.filter((c) => c.name !== cat.name);\r\n      state.categories = filtered;\r\n    },\r\n  },\r\n});\r\n\r\nexport default categorySlice.reducer;\r\n\r\nexport const { clearSelected, toggleCategory, uploadCategories } =\r\n  categorySlice.actions;\r\n\r\nexport {\r\n  clearCategories,\r\n  getCategories,\r\n  addCategory,\r\n  editCategory,\r\n  deleteCategory,\r\n};\r\n\r\nexport { selectCategories, selectTickedCategories } from \"./selectors\";\r\n","import { createAsyncThunk } from \"@reduxjs/toolkit\";\r\nimport db from \"../db\";\r\n\r\nexport const clearItems = createAsyncThunk(\r\n  \"item/clear\",\r\n  async () => await db.item.clear()\r\n);\r\n\r\nexport const getItems = createAsyncThunk(\"item/get\", async () => {\r\n  const stored = await db.item.toArray();\r\n  return stored;\r\n});\r\n\r\nexport const addItem = createAsyncThunk(\"item/add\", async (item) => {\r\n  await db.item.add(item);\r\n  return item;\r\n});\r\n\r\nexport const editItem = createAsyncThunk(\r\n  \"item/edit\",\r\n  async ({ oldItem, newItem }) => {\r\n    const stored = await db.item.get({ name: oldItem.name });\r\n    await db.item.update(stored.id, newItem);\r\n    return { oldItem, newItem };\r\n  }\r\n);\r\n\r\nexport const deleteItem = createAsyncThunk(\"item/delete\", async (item) => {\r\n  await db.item.where(\"name\").equals(item.name).delete();\r\n  return item;\r\n});\r\n","import { createSelector } from \"@reduxjs/toolkit\";\r\n\r\nconst getItem = (state) => state.item;\r\n\r\nexport const selectItems = createSelector(getItem, (item) => item.items);\r\n\r\nexport const selectTickedItems = createSelector(\r\n  getItem,\r\n  (item) => item.tickedItems\r\n);\r\n\r\nexport const selectRemovedItems = createSelector(\r\n  getItem,\r\n  (item) => item.removedItems\r\n);\r\n","import { createSlice } from \"@reduxjs/toolkit\";\r\n\r\nimport { clearItems, getItems, addItem, editItem, deleteItem } from \"./thunks\";\r\nimport { editCategory, deleteCategory, toggleCategory } from \"../category\";\r\n\r\nconst initialState = { items: [], tickedItems: [], removedItems: [] };\r\n\r\nconst itemSlice = createSlice({\r\n  name: \"item\",\r\n  initialState,\r\n  reducers: {\r\n    clearTicked: (state) => void (state.tickedItems = []),\r\n    clearRemoved: (state) => void (state.removedItems = []),\r\n    toggleItem: (state, action) => {\r\n      const item = action.payload;\r\n      const existing = state.tickedItems.find((i) => i === item.name);\r\n      if (existing) {\r\n        return {\r\n          ...state,\r\n          tickedItems: state.tickedItems.filter((i) => i !== item.name),\r\n        };\r\n      }\r\n      state.tickedItems.push(item.name);\r\n    },\r\n    removeItem: (state, action) => {\r\n      const item = action.payload;\r\n      const existing = state.removedItems.find((i) => i === item.name);\r\n      if (existing) {\r\n        return {\r\n          ...state,\r\n          removedItems: state.removedItems.filter((i) => i !== item.name),\r\n        };\r\n      }\r\n      state.removedItems.push(item.name);\r\n    },\r\n    uploadItems: (state, action) => void (state.items = action.payload),\r\n  },\r\n  extraReducers: {\r\n    [clearItems.fulfilled]: () => initialState,\r\n    [getItems.fulfilled]: (state, action) =>\r\n      void (state.items = action.payload),\r\n    [addItem.fulfilled]: (state, action) =>\r\n      void state.items.push(action.payload),\r\n    [editItem.fulfilled]: (state, action) => {\r\n      const { oldItem, newItem } = action.payload;\r\n      const existingIndex = state.items.findIndex(\r\n        (i) => i.name === oldItem.name\r\n      );\r\n\r\n      const tickedItems = state.tickedItems.map((ti) => {\r\n        if (ti === oldItem.name) {\r\n          return newItem.name;\r\n        }\r\n        return ti;\r\n      });\r\n      const removedItems = state.removedItems.map((ri) => {\r\n        if (ri === oldItem.name) {\r\n          return newItem.name;\r\n        }\r\n        return ri;\r\n      });\r\n\r\n      state.items[existingIndex] = newItem;\r\n      state.tickedItems = tickedItems;\r\n      state.removedItems = removedItems;\r\n    },\r\n    [deleteItem.fulfilled]: (state, action) => {\r\n      const item = action.payload;\r\n      const filtered = state.items.filter((i) => i.name !== item.name);\r\n      const tickedItems = state.tickedItems.filter((ti) => ti !== item.name);\r\n      const removedItems = state.removedItems.filter((ri) => ri !== item.name);\r\n      return { ...state, items: filtered, tickedItems, removedItems };\r\n    },\r\n    [editCategory.fulfilled]: (state, action) => {\r\n      const oldCat = action.payload.oldCategory.name;\r\n      const newCat = action.payload.newCategory.name;\r\n      const items = state.items.map((i) => {\r\n        if (i.category === oldCat) {\r\n          return { ...i, category: newCat };\r\n        }\r\n        return i;\r\n      });\r\n      state.items = items;\r\n    },\r\n    [deleteCategory.fulfilled]: (state, action) => {\r\n      const catName = action.payload.name;\r\n      const withCat = state.items.filter((i) => i.category === catName);\r\n      const withCatNames = withCat.map((i) => i.name);\r\n      const ticked = state.tickedItems.filter((i) => !withCatNames.includes(i));\r\n      const filtered = state.items.filter((i) => i.category !== catName);\r\n      return { items: filtered, tickedItems: ticked };\r\n    },\r\n    [toggleCategory.type]: (state, action) => {\r\n      const cat = action.payload;\r\n      const withCat = state.items.filter((i) => i.category === cat.name);\r\n      const withCatNames = withCat.map((i) => i.name);\r\n      const tickedItems = state.tickedItems.filter(\r\n        (ti) => !withCatNames.includes(ti)\r\n      );\r\n      const removedItems = state.removedItems.filter(\r\n        (ri) => !withCatNames.includes(ri)\r\n      );\r\n      return { ...state, tickedItems, removedItems };\r\n    },\r\n  },\r\n});\r\n\r\nexport default itemSlice.reducer;\r\n\r\nexport const {\r\n  clearTicked,\r\n  clearRemoved,\r\n  toggleItem,\r\n  removeItem,\r\n  uploadItems,\r\n} = itemSlice.actions;\r\n\r\nexport { clearItems, getItems, addItem, editItem, deleteItem };\r\n\r\nexport {\r\n  selectItems,\r\n  selectTickedItems,\r\n  selectRemovedItems,\r\n} from \"./selectors\";\r\n","import React from \"react\";\r\nimport PropTypes from \"prop-types\";\r\nimport { makeStyles, Card, CardHeader } from \"@material-ui/core\";\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n  card: {\r\n    margin: `${theme.spacing(2)}px auto`,\r\n    width: \"clamp(300px, 30%, 100%)\",\r\n    cursor: \"pointer\",\r\n  },\r\n  title: { textAlign: \"center\" },\r\n}));\r\n\r\nexport const MenuItem = (props) => {\r\n  const { title, action } = props;\r\n  const css = useStyles();\r\n\r\n  return (\r\n    <Card variant=\"outlined\" className={css.card} onClick={action}>\r\n      <CardHeader\r\n        title={title}\r\n        titleTypographyProps={{ className: css.title }}\r\n      />\r\n    </Card>\r\n  );\r\n};\r\n\r\nMenuItem.propTypes = {\r\n  title: PropTypes.string.isRequired,\r\n  action: PropTypes.func.isRequired,\r\n};\r\n","import React, { useCallback } from \"react\";\r\nimport { useDispatch, useSelector } from \"react-redux\";\r\nimport { useHistory } from \"react-router-dom\";\r\nimport { makeStyles, Typography } from \"@material-ui/core\";\r\n\r\nimport { getCategories, clearSelected, selectCategories } from \"store/category\";\r\nimport { getItems, clearTicked, clearRemoved } from \"store/item\";\r\nimport { MenuItem } from \"./MenuItem\";\r\n\r\nconst useStyles = makeStyles({\r\n  title: { textAlign: \"center\" },\r\n  menu: {\r\n    height: \"100%\",\r\n    minHeight: \"75vh\",\r\n    display: \"flex\",\r\n    flexDirection: \"column\",\r\n    justifyContent: \"center\",\r\n    alignItems: \"center\",\r\n  },\r\n});\r\n\r\nexport const Menu = () => {\r\n  const categories = useSelector(selectCategories);\r\n  const dispatch = useDispatch();\r\n  const { push } = useHistory();\r\n  const css = useStyles();\r\n\r\n  const startList = useCallback(() => {\r\n    dispatch(getCategories());\r\n    dispatch(getItems());\r\n    dispatch(clearSelected());\r\n    dispatch(clearTicked());\r\n    dispatch(clearRemoved());\r\n    push(\"/list\");\r\n  }, [dispatch, push]);\r\n  const continueList = useCallback(() => {\r\n    dispatch(getCategories());\r\n    dispatch(getItems());\r\n    push(\"/list\");\r\n  }, [dispatch, push]);\r\n\r\n  return (\r\n    <>\r\n      <Typography variant=\"h5\" gutterBottom className={css.title}>\r\n        Main Menu\r\n      </Typography>\r\n      <section className={css.menu}>\r\n        <MenuItem title=\"New List\" action={startList} />\r\n        {categories.length > 0 && (\r\n          <MenuItem title=\"Continue List\" action={continueList} />\r\n        )}\r\n        <MenuItem title=\"Upload List\" action={() => push(\"/upload\")} />\r\n      </section>\r\n    </>\r\n  );\r\n};\r\n","import React from \"react\";\r\nimport { useSelector } from \"react-redux\";\r\nimport { IconButton } from \"@material-ui/core\";\r\nimport { SaveAlt as SaveIcon } from \"@material-ui/icons\";\r\n\r\nimport { selectCategories, selectTickedCategories } from \"store/category\";\r\nimport { selectItems, selectRemovedItems } from \"store/item\";\r\n\r\nexport const DownloadButton = () => {\r\n  const categories = useSelector(selectCategories);\r\n  const tickedCategories = useSelector(selectTickedCategories);\r\n  const items = useSelector(selectItems);\r\n  const removedItems = useSelector(selectRemovedItems);\r\n\r\n  const selectedCats = categories.filter((c) =>\r\n    tickedCategories.includes(c.name)\r\n  );\r\n  const catItems = items.filter((i) => tickedCategories.includes(i.category));\r\n  const selectedItems = catItems.filter((i) => !removedItems.includes(i.name));\r\n\r\n  const dataToDownload = JSON.stringify({\r\n    categories: selectedCats,\r\n    items: selectedItems,\r\n  });\r\n\r\n  return (\r\n    <IconButton\r\n      title=\"Download\"\r\n      aria-label=\"download button\"\r\n      href={`data:text/json;charset=utf-8,${encodeURIComponent(\r\n        dataToDownload\r\n      )}`}\r\n      download=\"kitlist.json\"\r\n    >\r\n      <SaveIcon />\r\n    </IconButton>\r\n  );\r\n};\r\n","import React, { useCallback } from \"react\";\r\nimport { useSelector, useDispatch } from \"react-redux\";\r\nimport {\r\n  makeStyles,\r\n  Typography,\r\n  Paper,\r\n  List,\r\n  ListItem,\r\n  ListItemText,\r\n  ListItemIcon,\r\n  ListItemSecondaryAction,\r\n  Checkbox,\r\n  IconButton,\r\n} from \"@material-ui/core\";\r\nimport {\r\n  Visibility as ShowIcon,\r\n  VisibilityOff as HideIcon,\r\n  RadioButtonUnchecked as UncheckIcon,\r\n} from \"@material-ui/icons\";\r\n\r\nimport { selectTickedCategories } from \"store/category\";\r\nimport {\r\n  selectItems,\r\n  selectTickedItems,\r\n  selectRemovedItems,\r\n  toggleItem,\r\n  removeItem,\r\n  clearTicked,\r\n  clearRemoved,\r\n} from \"store/item\";\r\nimport { useCoreStyles } from \"theme\";\r\nimport { DownloadButton } from \"../download\";\r\n\r\nconst useStyles = makeStyles({\r\n  ticked: { textDecoration: \"line-through\" },\r\n});\r\n\r\nexport const KitList = () => {\r\n  const items = useSelector(selectItems);\r\n  const tickedItems = useSelector(selectTickedItems);\r\n  const removedItems = useSelector(selectRemovedItems);\r\n  const tickedCategories = useSelector(selectTickedCategories);\r\n  const dispatch = useDispatch();\r\n  const coreCss = useCoreStyles();\r\n  const css = useStyles();\r\n\r\n  const handleToggle = useCallback(\r\n    (value) => () => dispatch(toggleItem(value)),\r\n    [dispatch]\r\n  );\r\n  const handleRemove = useCallback(\r\n    (value) => () => dispatch(removeItem(value)),\r\n    [dispatch]\r\n  );\r\n\r\n  const categoryItems = items.filter((i) =>\r\n    tickedCategories.includes(i.category)\r\n  );\r\n  const itemsToDisplay = categoryItems.filter(\r\n    (i) => !removedItems.includes(i.name)\r\n  );\r\n  const hasCatsTicked = tickedCategories.length > 0;\r\n  const hasRemovedITems = removedItems.length > 0;\r\n  const hasTickedItems = tickedItems.length > 0;\r\n\r\n  if (itemsToDisplay.length === 0) {\r\n    return (\r\n      <Typography variant=\"h5\" gutterBottom>\r\n        Select a category to begin\r\n      </Typography>\r\n    );\r\n  }\r\n\r\n  return (\r\n    <>\r\n      <Typography variant=\"h5\" gutterBottom>\r\n        Check items off as you pack\r\n      </Typography>\r\n      <div>\r\n        {hasCatsTicked && <DownloadButton />}\r\n        {hasTickedItems && (\r\n          <IconButton\r\n            title=\"Uncheck All\"\r\n            aria-label=\"uncheck all button\"\r\n            onClick={() => dispatch(clearTicked())}\r\n          >\r\n            <UncheckIcon />\r\n          </IconButton>\r\n        )}\r\n        {hasRemovedITems && (\r\n          <IconButton\r\n            title=\"Show All\"\r\n            aria-label=\"show all button\"\r\n            onClick={() => dispatch(clearRemoved())}\r\n          >\r\n            <ShowIcon />\r\n          </IconButton>\r\n        )}\r\n      </div>\r\n      <List component={Paper} className={coreCss.list}>\r\n        {itemsToDisplay.map((item, i) => (\r\n          <ListItem\r\n            key={i}\r\n            divider\r\n            onClick={handleToggle(item)}\r\n            selected={tickedItems.includes(item.name)}\r\n            classes={{ selected: css.ticked }}\r\n          >\r\n            <ListItemIcon>\r\n              <Checkbox\r\n                edge=\"start\"\r\n                checked={tickedItems.includes(item.name)}\r\n                tabIndex={-1}\r\n                disableRipple\r\n                inputProps={{ \"aria-labelledby\": `checkbox-${item.item}` }}\r\n              />\r\n            </ListItemIcon>\r\n            <ListItemText primary={item.name} secondary={item.category} />\r\n            <ListItemSecondaryAction>\r\n              <IconButton\r\n                title={`Hide ${item.name}`}\r\n                edge=\"end\"\r\n                aria-label=\"hide\"\r\n                onClick={handleRemove(item)}\r\n              >\r\n                <HideIcon />\r\n              </IconButton>\r\n            </ListItemSecondaryAction>\r\n          </ListItem>\r\n        ))}\r\n      </List>\r\n    </>\r\n  );\r\n};\r\n","import React from \"react\";\r\nimport { useSelector, useDispatch } from \"react-redux\";\r\nimport { useHistory } from \"react-router-dom\";\r\nimport {\r\n  makeStyles,\r\n  List,\r\n  ListSubheader,\r\n  ListItem,\r\n  ListItemText,\r\n  ListItemIcon,\r\n  Checkbox,\r\n  IconButton,\r\n} from \"@material-ui/core\";\r\nimport { Edit as EditIcon } from \"@material-ui/icons\";\r\n\r\nimport {\r\n  selectCategories,\r\n  selectTickedCategories,\r\n  toggleCategory,\r\n} from \"store/category\";\r\n\r\nconst useStyles = makeStyles({\r\n  header: { display: \"flex\", justifyContent: \"space-between\" },\r\n});\r\n\r\nexport const Categories = () => {\r\n  const categories = useSelector(selectCategories);\r\n  const ticked = useSelector(selectTickedCategories);\r\n  const dispatch = useDispatch();\r\n  const { push } = useHistory();\r\n  const css = useStyles();\r\n\r\n  return (\r\n    <List\r\n      aria-labelledby=\"category-list\"\r\n      subheader={\r\n        <ListSubheader className={css.header}>\r\n          Categories{\" \"}\r\n          <IconButton\r\n            size=\"small\"\r\n            title=\"Edit Categories\"\r\n            onClick={() => push(\"/categories\")}\r\n          >\r\n            <EditIcon />\r\n          </IconButton>\r\n        </ListSubheader>\r\n      }\r\n    >\r\n      {categories.map((cat, i) => (\r\n        <ListItem key={i}>\r\n          <ListItemIcon>\r\n            <Checkbox\r\n              edge=\"start\"\r\n              checked={ticked.includes(cat.name)}\r\n              tabIndex={-1}\r\n              disableRipple\r\n              inputProps={{ \"aria-labelledby\": `checkbox-${cat.name}` }}\r\n              onClick={() => dispatch(toggleCategory(cat))}\r\n            />\r\n          </ListItemIcon>\r\n          <ListItemText primary={cat.name} />\r\n        </ListItem>\r\n      ))}\r\n    </List>\r\n  );\r\n};\r\n","import React from \"react\";\r\nimport PropTypes from \"prop-types\";\r\nimport { useDispatch, useSelector } from \"react-redux\";\r\nimport { Formik, Form, Field } from \"formik\";\r\nimport * as yup from \"yup\";\r\nimport {\r\n  makeStyles,\r\n  TextField,\r\n  Button,\r\n  Dialog,\r\n  DialogTitle,\r\n  DialogContent,\r\n  DialogActions,\r\n  IconButton,\r\n} from \"@material-ui/core\";\r\nimport { Close as CloseIcon } from \"@material-ui/icons\";\r\n\r\nimport { selectCategories, addCategory, editCategory } from \"store/category\";\r\n\r\nconst useStyles = makeStyles({\r\n  form: { display: \"flex\", flexDirection: \"column\" },\r\n  close: { position: \"absolute\", top: 0, right: 0 },\r\n});\r\n\r\nexport const AddEditCategory = (props) => {\r\n  const { isOpen, onClose, isEdit, category } = props;\r\n  const categories = useSelector(selectCategories);\r\n  const dispatch = useDispatch();\r\n  const css = useStyles();\r\n\r\n  const initialValues = { name: category?.name || \"\" };\r\n  const validationSchema = yup.object({\r\n    name: yup\r\n      .string()\r\n      .required(\"Enter a category name\")\r\n      .test(\"unique\", \"Category already exists\", (value) => {\r\n        let existing = [];\r\n        if (isEdit) {\r\n          existing = categories.filter(\r\n            (c) =>\r\n              c.name.toLowerCase() === value.toLowerCase() &&\r\n              c.name.toLowerCase() !== category.name.toLowerCase()\r\n          );\r\n        } else {\r\n          existing = categories.filter(\r\n            (c) => c.name.toLowerCase() === value.toLowerCase()\r\n          );\r\n        }\r\n        return existing.length === 0;\r\n      }),\r\n  });\r\n  const onSubmit = (values, { resetForm }) => {\r\n    if (isEdit) {\r\n      dispatch(editCategory({ oldCategory: category, newCategory: values }));\r\n      onClose();\r\n      return;\r\n    }\r\n    dispatch(addCategory(values));\r\n    resetForm();\r\n  };\r\n\r\n  return (\r\n    <Dialog\r\n      open={isOpen}\r\n      onClose={onClose}\r\n      aria-labelledby=\"Add category dialog\"\r\n      fullWidth\r\n      maxWidth=\"sm\"\r\n    >\r\n      <IconButton className={css.close} onClick={onClose}>\r\n        <CloseIcon />\r\n      </IconButton>\r\n      <DialogTitle>\r\n        {isEdit ? `Edit ${category.name}` : \"Add New\"} Category\r\n      </DialogTitle>\r\n      <DialogContent>\r\n        <Formik\r\n          initialValues={initialValues}\r\n          validationSchema={validationSchema}\r\n          onSubmit={onSubmit}\r\n        >\r\n          {({ isSubmitting, handleChange }) => (\r\n            <Form className={css.form}>\r\n              <Field>\r\n                {({ form }) => (\r\n                  <TextField\r\n                    id=\"name\"\r\n                    name=\"name\"\r\n                    label=\"Name\"\r\n                    value={form.values.name}\r\n                    onChange={handleChange}\r\n                    error={Boolean(form.touched.name && form.errors.name)}\r\n                    helperText={\r\n                      form.touched.name &&\r\n                      form.errors.name &&\r\n                      String(form.errors.name)\r\n                    }\r\n                  />\r\n                )}\r\n              </Field>\r\n              <DialogActions>\r\n                <Button\r\n                  type=\"submit\"\r\n                  disabled={isSubmitting}\r\n                  variant=\"contained\"\r\n                  color=\"primary\"\r\n                >\r\n                  Submit\r\n                </Button>\r\n              </DialogActions>\r\n            </Form>\r\n          )}\r\n        </Formik>\r\n      </DialogContent>\r\n    </Dialog>\r\n  );\r\n};\r\n\r\nAddEditCategory.propTypes = {\r\n  isOpen: PropTypes.bool.isRequired,\r\n  onClose: PropTypes.func.isRequired,\r\n  isEdit: PropTypes.bool,\r\n  category: (props, propName) => {\r\n    if (\r\n      props[\"isEdit\"] === true &&\r\n      (props[propName] === undefined || typeof props[propName] !== \"object\")\r\n    ) {\r\n      return new Error(\"category is required when isEdit is true\");\r\n    }\r\n  },\r\n};\r\n","import React, { useCallback } from \"react\";\r\nimport PropTypes from \"prop-types\";\r\nimport { useDispatch } from \"react-redux\";\r\nimport {\r\n  makeStyles,\r\n  Dialog,\r\n  DialogTitle,\r\n  DialogContent,\r\n  DialogActions,\r\n  Button,\r\n  IconButton,\r\n} from \"@material-ui/core\";\r\nimport { Close as CloseIcon } from \"@material-ui/icons\";\r\n\r\nimport { deleteCategory } from \"store/category\";\r\n\r\nconst useStyles = makeStyles({\r\n  close: { position: \"absolute\", top: 0, right: 0 },\r\n});\r\n\r\nexport const DeleteCategory = (props) => {\r\n  const { isOpen, onClose, category } = props;\r\n  const dispatch = useDispatch();\r\n  const css = useStyles();\r\n\r\n  const deleteCat = useCallback(() => {\r\n    dispatch(deleteCategory(category));\r\n    onClose();\r\n  }, [dispatch, onClose, category]);\r\n\r\n  return (\r\n    <Dialog\r\n      open={isOpen}\r\n      onClose={onClose}\r\n      aria-labelledby=\"Delete category dialog\"\r\n      fullWidth\r\n      maxWidth=\"sm\"\r\n    >\r\n      <IconButton className={css.close} onClick={onClose}>\r\n        <CloseIcon />\r\n      </IconButton>\r\n      <DialogTitle>Delete Category</DialogTitle>\r\n      <DialogContent>\r\n        Are you sure you want to delete {category?.name}? This will delete any\r\n        items under this category as well.\r\n      </DialogContent>\r\n      <DialogActions>\r\n        <Button variant=\"contained\" color=\"primary\" onClick={deleteCat}>\r\n          Delete\r\n        </Button>\r\n        <Button onClick={onClose}>Cancel</Button>\r\n      </DialogActions>\r\n    </Dialog>\r\n  );\r\n};\r\n\r\nDeleteCategory.propTypes = {\r\n  isOpen: PropTypes.bool.isRequired,\r\n  onClose: PropTypes.func.isRequired,\r\n  category: PropTypes.exact({\r\n    id: PropTypes.number,\r\n    name: PropTypes.string.isRequired,\r\n  }),\r\n};\r\n","import React, { useState, useCallback } from \"react\";\r\nimport { useSelector } from \"react-redux\";\r\nimport { useHistory } from \"react-router-dom\";\r\nimport {\r\n  Typography,\r\n  ButtonGroup,\r\n  Button,\r\n  Divider,\r\n  List,\r\n  ListItem,\r\n  ListItemText,\r\n  ListItemSecondaryAction,\r\n  IconButton,\r\n} from \"@material-ui/core\";\r\nimport {\r\n  AddCircleOutline as AddIcon,\r\n  Edit as EditIcon,\r\n  Delete as DeleteIcon,\r\n  List as ListIcon,\r\n} from \"@material-ui/icons\";\r\n\r\nimport { selectCategories } from \"store/category\";\r\nimport { useCoreStyles } from \"theme\";\r\nimport { AddEditCategory } from \"./AddEdit\";\r\nimport { DeleteCategory } from \"./Delete\";\r\n\r\nexport const ManageCategories = () => {\r\n  const categories = useSelector(selectCategories);\r\n  const coreCss = useCoreStyles();\r\n  const [isEditOpen, setIsEditOpen] = useState(false);\r\n  const [isDeleteOpen, setIsDeleteOpen] = useState(false);\r\n  const [selected, setSelected] = useState(null);\r\n  const { push } = useHistory();\r\n\r\n  const onEditClose = useCallback(() => {\r\n    setIsEditOpen(false);\r\n    setSelected(null);\r\n  }, []);\r\n\r\n  const editCategory = useCallback(\r\n    (category) => () => {\r\n      setSelected(category);\r\n      setIsEditOpen(true);\r\n    },\r\n    []\r\n  );\r\n\r\n  const onDeleteClose = useCallback(() => {\r\n    setIsDeleteOpen(false);\r\n    setSelected(null);\r\n  }, []);\r\n\r\n  const deleteCategory = useCallback(\r\n    (category) => () => {\r\n      setSelected(category);\r\n      setIsDeleteOpen(true);\r\n    },\r\n    []\r\n  );\r\n\r\n  return (\r\n    <>\r\n      <Typography variant=\"h5\" gutterBottom>\r\n        Manage Categories\r\n      </Typography>\r\n      <ButtonGroup variant=\"text\">\r\n        <Button startIcon={<AddIcon />} onClick={() => setIsEditOpen(true)}>\r\n          Add New Category\r\n        </Button>\r\n        <Button startIcon={<ListIcon />} onClick={() => push(\"/items\")}>\r\n          Manage Items\r\n        </Button>\r\n      </ButtonGroup>\r\n      <Divider />\r\n      <List className={coreCss.list}>\r\n        {categories.map((cat, i) => (\r\n          <ListItem key={i} divider>\r\n            <ListItemText primary={cat.name} />\r\n            <ListItemSecondaryAction>\r\n              <IconButton\r\n                edge=\"end\"\r\n                aria-label={`edit ${cat.name}`}\r\n                title={`Edit ${cat.name}`}\r\n                onClick={editCategory(cat)}\r\n              >\r\n                <EditIcon />\r\n              </IconButton>\r\n              <IconButton\r\n                edge=\"end\"\r\n                aria-label={`delete ${cat.name}`}\r\n                title={`Delete ${cat.name}`}\r\n                onClick={deleteCategory(cat)}\r\n              >\r\n                <DeleteIcon />\r\n              </IconButton>\r\n            </ListItemSecondaryAction>\r\n          </ListItem>\r\n        ))}\r\n      </List>\r\n      <AddEditCategory\r\n        isOpen={isEditOpen}\r\n        onClose={onEditClose}\r\n        isEdit={Boolean(selected)}\r\n        category={selected}\r\n      />\r\n      <DeleteCategory\r\n        isOpen={isDeleteOpen}\r\n        onClose={onDeleteClose}\r\n        category={selected}\r\n      />\r\n    </>\r\n  );\r\n};\r\n","import React from \"react\";\r\nimport PropTypes from \"prop-types\";\r\nimport { useDispatch, useSelector } from \"react-redux\";\r\nimport { Formik, Form, Field } from \"formik\";\r\nimport * as yup from \"yup\";\r\nimport {\r\n  makeStyles,\r\n  TextField,\r\n  Button,\r\n  Dialog,\r\n  DialogTitle,\r\n  DialogContent,\r\n  DialogActions,\r\n  IconButton,\r\n  MenuItem,\r\n} from \"@material-ui/core\";\r\nimport { Close as CloseIcon } from \"@material-ui/icons\";\r\n\r\nimport { selectCategories } from \"store/category\";\r\nimport { selectItems, addItem, editItem } from \"store/item\";\r\n\r\nconst useStyles = makeStyles({\r\n  form: { display: \"flex\", flexDirection: \"column\" },\r\n  close: { position: \"absolute\", top: 0, right: 0 },\r\n});\r\n\r\nexport const AddEditItem = (props) => {\r\n  const { isOpen, onClose, isEdit, item } = props;\r\n  const categories = useSelector(selectCategories);\r\n  const items = useSelector(selectItems);\r\n  const dispatch = useDispatch();\r\n  const css = useStyles();\r\n\r\n  const initialValues = {\r\n    name: item?.name || \"\",\r\n    category: item?.category || categories[0]?.name || \"\",\r\n  };\r\n  const validationSchema = yup.object({\r\n    name: yup\r\n      .string()\r\n      .required(\"Enter an item name\")\r\n      .test(\"unique\", \"Item already exists\", (value) => {\r\n        let existing = [];\r\n        if (isEdit) {\r\n          existing = items.filter(\r\n            (i) =>\r\n              i.name.toLowerCase() === value.toLowerCase() &&\r\n              i.name.toLowerCase() !== item.name.toLowerCase()\r\n          );\r\n        } else {\r\n          existing = items.filter(\r\n            (i) => i.name.toLowerCase() === value.toLowerCase()\r\n          );\r\n        }\r\n        return existing.length === 0;\r\n      }),\r\n    category: yup.string().required(\"Select a category\"),\r\n  });\r\n  const onSubmit = (values, { resetForm }) => {\r\n    if (isEdit) {\r\n      dispatch(editItem({ oldItem: item, newItem: values }));\r\n      onClose();\r\n      return;\r\n    }\r\n    dispatch(addItem(values));\r\n    resetForm();\r\n  };\r\n\r\n  return (\r\n    <Dialog\r\n      open={isOpen}\r\n      onClose={onClose}\r\n      aria-labelledby=\"Add item dialog\"\r\n      fullWidth\r\n      maxWidth=\"sm\"\r\n    >\r\n      <IconButton className={css.close} onClick={onClose}>\r\n        <CloseIcon />\r\n      </IconButton>\r\n      <DialogTitle>{isEdit ? `Edit ${item.name}` : \"Add New\"} Item</DialogTitle>\r\n      <DialogContent>\r\n        <Formik\r\n          initialValues={initialValues}\r\n          validationSchema={validationSchema}\r\n          onSubmit={onSubmit}\r\n        >\r\n          {({ isSubmitting, handleChange }) => (\r\n            <Form className={css.form}>\r\n              <Field>\r\n                {({ form }) => (\r\n                  <TextField\r\n                    id=\"name\"\r\n                    name=\"name\"\r\n                    label=\"Name\"\r\n                    value={form.values.name}\r\n                    onChange={handleChange}\r\n                    error={Boolean(form.touched.name && form.errors.name)}\r\n                    helperText={\r\n                      form.touched.name &&\r\n                      form.errors.name &&\r\n                      String(form.errors.name)\r\n                    }\r\n                  />\r\n                )}\r\n              </Field>\r\n              <Field>\r\n                {({ form }) => (\r\n                  <TextField\r\n                    id=\"category\"\r\n                    name=\"category\"\r\n                    label=\"Category\"\r\n                    select\r\n                    value={form.values.category}\r\n                    onChange={handleChange}\r\n                    error={Boolean(\r\n                      form.touched.category && form.errors.category\r\n                    )}\r\n                    helperText={\r\n                      form.touched.category &&\r\n                      form.errors.category &&\r\n                      String(form.errors.category)\r\n                    }\r\n                  >\r\n                    {categories.map((cat, i) => (\r\n                      <MenuItem key={i} value={cat?.name}>\r\n                        {cat?.name}\r\n                      </MenuItem>\r\n                    ))}\r\n                  </TextField>\r\n                )}\r\n              </Field>\r\n              <DialogActions>\r\n                <Button\r\n                  type=\"submit\"\r\n                  disabled={isSubmitting}\r\n                  variant=\"contained\"\r\n                  color=\"primary\"\r\n                >\r\n                  Submit\r\n                </Button>\r\n              </DialogActions>\r\n            </Form>\r\n          )}\r\n        </Formik>\r\n      </DialogContent>\r\n    </Dialog>\r\n  );\r\n};\r\n\r\nAddEditItem.propTypes = {\r\n  isOpen: PropTypes.bool.isRequired,\r\n  onClose: PropTypes.func.isRequired,\r\n  isEdit: PropTypes.bool,\r\n  item: (props, propName) => {\r\n    if (\r\n      props[\"isEdit\"] === true &&\r\n      (props[propName] === undefined || typeof props[propName] !== \"object\")\r\n    ) {\r\n      return new Error(\"item is required when isEdit is true\");\r\n    }\r\n  },\r\n};\r\n","import React, { useCallback } from \"react\";\r\nimport PropTypes from \"prop-types\";\r\nimport { useDispatch } from \"react-redux\";\r\nimport {\r\n  makeStyles,\r\n  Dialog,\r\n  DialogTitle,\r\n  DialogContent,\r\n  DialogActions,\r\n  Button,\r\n  IconButton,\r\n} from \"@material-ui/core\";\r\nimport { Close as CloseIcon } from \"@material-ui/icons\";\r\n\r\nimport { deleteItem } from \"store/item\";\r\n\r\nconst useStyles = makeStyles({\r\n  close: { position: \"absolute\", top: 0, right: 0 },\r\n});\r\n\r\nexport const DeleteItem = (props) => {\r\n  const { isOpen, onClose, item } = props;\r\n  const dispatch = useDispatch();\r\n  const css = useStyles();\r\n\r\n  const deleteItm = useCallback(() => {\r\n    dispatch(deleteItem(item));\r\n    onClose();\r\n  }, [dispatch, onClose, item]);\r\n\r\n  return (\r\n    <Dialog\r\n      open={isOpen}\r\n      onClose={onClose}\r\n      aria-labelledby=\"Delete item dialog\"\r\n      fullWidth\r\n      maxWidth=\"sm\"\r\n    >\r\n      <IconButton className={css.close} onClick={onClose}>\r\n        <CloseIcon />\r\n      </IconButton>\r\n      <DialogTitle>Delete Item</DialogTitle>\r\n      <DialogContent>\r\n        Are you sure you want to delete {item?.name}?\r\n      </DialogContent>\r\n      <DialogActions>\r\n        <Button variant=\"contained\" color=\"primary\" onClick={deleteItm}>\r\n          Delete\r\n        </Button>\r\n        <Button onClick={onClose}>Cancel</Button>\r\n      </DialogActions>\r\n    </Dialog>\r\n  );\r\n};\r\n\r\nDeleteItem.propTypes = {\r\n  isOpen: PropTypes.bool.isRequired,\r\n  onClose: PropTypes.func.isRequired,\r\n  item: PropTypes.exact({\r\n    id: PropTypes.number,\r\n    name: PropTypes.string.isRequired,\r\n    category: PropTypes.string.isRequired,\r\n  }),\r\n};\r\n","import React, { useState, useCallback } from \"react\";\r\nimport { useSelector } from \"react-redux\";\r\nimport { useHistory } from \"react-router-dom\";\r\nimport {\r\n  Typography,\r\n  ButtonGroup,\r\n  Button,\r\n  Divider,\r\n  List,\r\n  ListItem,\r\n  ListItemText,\r\n  ListItemSecondaryAction,\r\n  IconButton,\r\n} from \"@material-ui/core\";\r\nimport {\r\n  AddCircleOutline as AddIcon,\r\n  Edit as EditIcon,\r\n  Delete as DeleteIcon,\r\n  Category as CategoryIcon,\r\n} from \"@material-ui/icons\";\r\n\r\nimport { selectItems } from \"store/item\";\r\nimport { useCoreStyles } from \"theme\";\r\nimport { AddEditItem, DeleteItem } from \"./manage\";\r\n\r\nexport const Items = () => {\r\n  const items = useSelector(selectItems);\r\n  const { push } = useHistory();\r\n  const coreCss = useCoreStyles();\r\n  const [isEditOpen, setIsEditOpen] = useState(false);\r\n  const [isDeleteOpen, setIsDeleteOpen] = useState(false);\r\n  const [selected, setSelected] = useState(null);\r\n\r\n  const closeEdit = useCallback(() => {\r\n    setIsEditOpen(false);\r\n    setSelected(null);\r\n  }, []);\r\n  const editItem = useCallback(\r\n    (item) => () => {\r\n      setSelected(item);\r\n      setIsEditOpen(true);\r\n    },\r\n    []\r\n  );\r\n\r\n  const closeDelete = useCallback(() => {\r\n    setIsDeleteOpen(false);\r\n    setSelected(null);\r\n  }, []);\r\n  const deleteItem = useCallback(\r\n    (item) => () => {\r\n      setSelected(item);\r\n      setIsDeleteOpen(true);\r\n    },\r\n    []\r\n  );\r\n\r\n  return (\r\n    <>\r\n      <Typography variant=\"h5\" gutterBottom>\r\n        Manage Items\r\n      </Typography>\r\n      <ButtonGroup variant=\"text\">\r\n        <Button startIcon={<AddIcon />} onClick={() => setIsEditOpen(true)}>\r\n          Add New Item\r\n        </Button>\r\n        <Button\r\n          startIcon={<CategoryIcon />}\r\n          onClick={() => push(\"/categories\")}\r\n        >\r\n          Manage Categories\r\n        </Button>\r\n      </ButtonGroup>\r\n      <Divider />\r\n      <List className={coreCss.list}>\r\n        {items.map((item, i) => (\r\n          <ListItem key={i} divider>\r\n            <ListItemText primary={item.name} secondary={item.category} />\r\n            <ListItemSecondaryAction>\r\n              <IconButton\r\n                edge=\"end\"\r\n                aria-label={`edit ${item.name}`}\r\n                title={`Edit ${item.name}`}\r\n                onClick={editItem(item)}\r\n              >\r\n                <EditIcon />\r\n              </IconButton>\r\n              <IconButton\r\n                edge=\"end\"\r\n                aria-label={`delete ${item.name}`}\r\n                title={`Delete ${item.name}`}\r\n                onClick={deleteItem(item)}\r\n              >\r\n                <DeleteIcon />\r\n              </IconButton>\r\n            </ListItemSecondaryAction>\r\n          </ListItem>\r\n        ))}\r\n      </List>\r\n      <AddEditItem\r\n        isOpen={isEditOpen}\r\n        onClose={closeEdit}\r\n        isEdit={Boolean(selected)}\r\n        item={selected}\r\n      />\r\n      <DeleteItem isOpen={isDeleteOpen} onClose={closeDelete} item={selected} />\r\n    </>\r\n  );\r\n};\r\n","import React from \"react\";\r\nimport { useDispatch } from \"react-redux\";\r\nimport { useHistory } from \"react-router-dom\";\r\nimport { useSnackbar } from \"notistack\";\r\nimport { DropzoneArea } from \"material-ui-dropzone\";\r\nimport { Typography } from \"@material-ui/core\";\r\n\r\nimport { uploadCategories } from \"store/category\";\r\nimport { uploadItems } from \"store/item\";\r\n\r\nconst readFile = (file) =>\r\n  new Promise((resolve, reject) => {\r\n    const reader = new FileReader();\r\n    reader.onabort = reject;\r\n    reader.onerror = reject;\r\n    reader.onload = () => resolve(reader.result);\r\n    reader.readAsText(file);\r\n  });\r\n\r\nexport const Upload = () => {\r\n  const dispatch = useDispatch();\r\n  const { push } = useHistory();\r\n  const { enqueueSnackbar } = useSnackbar();\r\n\r\n  const onRejected = () => {\r\n    enqueueSnackbar(\"An error occurred\", {\r\n      variant: \"error\",\r\n      id: \"error-upload\",\r\n    });\r\n  };\r\n\r\n  const parseFile = async (files) => {\r\n    try {\r\n      const rawJson = await readFile(files[0]);\r\n      const result = JSON.parse(rawJson);\r\n\r\n      enqueueSnackbar(\"File successfully uploaded\", {\r\n        variant: \"success\",\r\n        id: \"success-upload\",\r\n      });\r\n\r\n      dispatch(uploadCategories(result.categories));\r\n      dispatch(uploadItems(result.items));\r\n    } catch (error) {\r\n      onRejected();\r\n    } finally {\r\n      setTimeout(() => push(\"/list\"), 500);\r\n    }\r\n  };\r\n\r\n  return (\r\n    <>\r\n      <Typography variant=\"h5\" gutterBottom>\r\n        Upload List\r\n      </Typography>\r\n      <DropzoneArea\r\n        acceptedFiles={[\"application/json\"]}\r\n        showAlerts={false}\r\n        onDrop={parseFile}\r\n        onDropRejected={onRejected}\r\n      />\r\n    </>\r\n  );\r\n};\r\n","import React from \"react\";\r\nimport { Switch, Redirect, Route, useLocation } from \"react-router-dom\";\r\n\r\nimport { useComms } from \"utils\";\r\nimport { AppShell } from \"./appShell\";\r\nimport { Menu } from \"./menu\";\r\nimport { KitList } from \"./kitList\";\r\nimport { Categories, ManageCategories } from \"./categories\";\r\nimport { Items } from \"./items\";\r\nimport { Upload } from \"./upload\";\r\n\r\nexport const Layout = () => {\r\n  useComms();\r\n  const { pathname } = useLocation();\r\n\r\n  return (\r\n    <AppShell sideBarContent={pathname === \"/list\" ? <Categories /> : null}>\r\n      <Switch>\r\n        <Route path=\"/upload\" exact component={Upload} />\r\n        <Route path=\"/items\" exact component={Items} />\r\n        <Route path=\"/categories\" exact component={ManageCategories} />\r\n        <Route path=\"/list\" exact component={KitList} />\r\n        <Route path=\"/\" exact component={Menu} />\r\n        <Redirect to=\"/\" />\r\n      </Switch>\r\n    </AppShell>\r\n  );\r\n};\r\n","import React, { createRef } from \"react\";\nimport { CssBaseline, Zoom, makeStyles, Button } from \"@material-ui/core\";\nimport { ThemeProvider } from \"@material-ui/core/styles\";\nimport { SnackbarProvider } from \"notistack\";\n\nimport useGetTheme from \"theme\";\nimport { Layout } from \"./features\";\n\nconst useSnackStyles = makeStyles((theme) => ({\n  variantSuccess: { backgroundColor: theme.palette.success.main },\n  variantInfo: { backgroundColor: theme.palette.info.main },\n  variantWarning: { backgroundColor: theme.palette.warning.main },\n  variantError: { backgroundColor: theme.palette.error.main },\n}));\n\nconst useStyles = makeStyles((theme) => ({\n  button: { color: theme.palette.common.white },\n}));\n\nconst Snacked = () => {\n  const css = useStyles();\n  const snackCss = useSnackStyles();\n\n  const notistackRef = createRef();\n  const onClickDismiss = (key) => () => notistackRef.current.closeSnackbar(key);\n\n  return (\n    <SnackbarProvider\n      preventDuplicate\n      anchorOrigin={{ vertical: \"top\", horizontal: \"right\" }}\n      TransitionComponent={Zoom}\n      autoHideDuration={5000}\n      classes={snackCss}\n      ref={notistackRef}\n      action={(key) => (\n        <Button className={css.button} onClick={onClickDismiss(key)}>\n          Dismiss\n        </Button>\n      )}\n    >\n      <Layout />\n    </SnackbarProvider>\n  );\n};\n\nconst App = () => {\n  const theme = useGetTheme();\n\n  return (\n    <ThemeProvider theme={theme}>\n      <CssBaseline />\n      <Snacked />\n    </ThemeProvider>\n  );\n};\n\nexport default App;\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://cra.link/PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === \"localhost\" ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === \"[::1]\" ||\n    // 127.0.0.0/8 are considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === \"production\" && \"serviceWorker\" in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener(\"load\", () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        if (process.env.NODE_ENV === \"development\") {\n          navigator.serviceWorker.ready.then(() => {\n            console.log(\n              \"This web app is being served cache-first by a service \" +\n                \"worker. To learn more, visit https://cra.link/PWA\"\n            );\n          });\n        }\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then((registration) => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === \"installed\") {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              registration.waiting.postMessage({ type: \"SKIP_WAITING\" });\n              postMessage({ tag: \"update\" });\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              postMessage({ tag: \"installed\" });\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch((error) => {\n      console.error(\"Error during service worker registration:\", error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl, {\n    headers: { \"Service-Worker\": \"script\" },\n  })\n    .then((response) => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get(\"content-type\");\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf(\"javascript\") === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then((registration) => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      postMessage({ tag: \"offline\" });\n    });\n}\n\nexport function unregister() {\n  if (\"serviceWorker\" in navigator) {\n    navigator.serviceWorker.ready\n      .then((registration) => {\n        registration.unregister();\n      })\n      .catch((error) => {\n        console.error(error.message);\n      });\n  }\n}\n","const reportWebVitals = (onPerfEntry) => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import { configureStore } from \"@reduxjs/toolkit\";\r\n\r\nimport itemReducer from \"./item\";\r\nimport categoryReducer from \"./category\";\r\n\r\nexport const store = configureStore({\r\n  reducer: {\r\n    category: categoryReducer,\r\n    item: itemReducer,\r\n  },\r\n});\r\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport { BrowserRouter } from \"react-router-dom\";\nimport { Provider } from \"react-redux\";\n\nimport App from \"./App\";\nimport * as serviceWorkerRegistration from \"./serviceWorkerRegistration\";\nimport reportWebVitals from \"./reportWebVitals\";\nimport { store } from \"store\";\n\nReactDOM.render(\n  <React.StrictMode>\n    <Provider store={store}>\n      <BrowserRouter basename={process.env.PUBLIC_URL}>\n        <App />\n      </BrowserRouter>\n    </Provider>\n  </React.StrictMode>,\n  document.getElementById(\"root\")\n);\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://cra.link/PWA\nserviceWorkerRegistration.register();\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}