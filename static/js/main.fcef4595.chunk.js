(this.webpackJsonpkitlist=this.webpackJsonpkitlist||[]).push([[0],{308:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),c=n(12),i=n.n(c),o=n(47),s=n(11),l=n(348),u=n(379),d=n(311),j=n(381),b=n(380),m=n(71),f=n(175),O=Object(l.a)({list:{width:"clamp(300px, 60%, 100%)"}}),p=function(){return Object(f.a)({palette:{type:"light",primary:{main:"#ac1e1e"},secondary:{main:"#190e4f"}},typography:{fontFamily:["Segoe UI","Tahoma","Geneva","Verdana","sans-serif"],fontSize:16}})},h=n(20),g=n(2),x=Object(l.a)((function(e){return{button:{color:e.palette.common.white}}})),v=n(27),y=n(19),k=n(29),C=n(349),w=n(51),I=n(350),S=n(351),N=n(352),L=n(353),E=n(354),A=240,D=Object(l.a)((function(e){return{drawer:Object(y.a)({},e.breakpoints.up("sm"),{width:A}),drawerTitle:{padding:e.spacing(2),cursor:"pointer"},drawerPaper:{width:A},buttons:Object(y.a)({},e.breakpoints.up("sm"),{position:"absolute",top:"1rem",left:"calc(".concat(A,"px + 1rem)")}),menuButton:Object(y.a)({marginLeft:e.spacing(2),marginRight:e.spacing(2)},e.breakpoints.up("sm"),{display:"none"}),content:Object(y.a)({padding:e.spacing(3)},e.breakpoints.up("sm"),{marginLeft:A})}})),B=function(e){var t=e.sideBarContent,n=e.children,r=function(){var e=Object(a.useState)(null),t=Object(v.a)(e,2),n=t[0],r=t[1];Object(a.useEffect)((function(){return window.addEventListener("beforeinstallprompt",c),function(){window.removeEventListener("beforeinstallprompt",c)}}),[]);var c=function(e){return e.preventDefault(),r(e),!1};return[null!==n,function(){n&&(n.prompt(),r(null))}]}(),c=Object(v.a)(r,2),i=c[0],o=c[1],s=D(),l=Object(k.a)(),u=Object(h.g)().push,d=Object(C.a)(l.breakpoints.up("sm")),j=Object(a.useState)(!1),b=Object(v.a)(j,2),m=b[0],f=b[1],O=function(){return f(!m)},p=Object(g.jsxs)(g.Fragment,{children:[Object(g.jsx)(w.a,{variant:"h4",className:s.drawerTitle,onClick:function(){return u("/")},children:"Kit List"}),Object(g.jsx)(I.a,{}),t]});return Object(g.jsxs)(g.Fragment,{children:[Object(g.jsx)("nav",{className:s.drawer,"aria-label":"mailbox folders",children:Object(g.jsx)(S.a,{variant:d?"permanent":"temporary",anchor:"rtl"===l.direction?"right":"left",open:d||m,onClose:O,classes:{paper:s.drawerPaper},ModalProps:{keepMounted:!0},children:p})}),Object(g.jsxs)("div",{className:s.buttons,children:[Object(g.jsx)(N.a,{color:"inherit","aria-label":"open drawer",edge:"start",onClick:O,className:s.menuButton,children:Object(g.jsx)(L.a,{})}),i&&Object(g.jsx)(N.a,{color:"inherit","aria-label":"install app",onClick:o,children:Object(g.jsx)(E.a,{})})]}),Object(g.jsx)("main",{className:s.content,children:n})]})},F=n(33),T=n(22),W=n(14),M=n.n(W),R=n(32),P=new(n(160).a)("KitList");P.version(1).stores({category:"++id, name",item:"++id, name, category"});var q,U,H=P,J=Object(T.b)("category/clear",Object(R.a)(M.a.mark((function e(){return M.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,H.category.clear();case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})))),K=Object(T.b)("category/get",Object(R.a)(M.a.mark((function e(){var t;return M.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,H.category.toArray();case 2:return t=e.sent,e.abrupt("return",t);case 4:case"end":return e.stop()}}),e)})))),z=Object(T.b)("category/add",function(){var e=Object(R.a)(M.a.mark((function e(t){return M.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,H.category.add(t);case 2:return e.abrupt("return",t);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),G=Object(T.b)("category/edit",function(){var e=Object(R.a)(M.a.mark((function e(t){var n,a,r;return M.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.oldCategory,a=t.newCategory,e.next=3,H.category.get({name:n.name});case 3:return r=e.sent,e.next=6,H.category.update(r.id,a);case 6:return e.abrupt("return",{oldCategory:n,newCategory:a});case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),V=Object(T.b)("category/delete",function(){var e=Object(R.a)(M.a.mark((function e(t){return M.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,H.category.where("name").equals(t.name).delete();case 2:return e.abrupt("return",t);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),_=n(95),$=function(e){return e.category},Q=Object(_.a)($,(function(e){return e.categories})),X=Object(_.a)($,(function(e){return e.tickedCategories})),Y={categories:[],tickedCategories:[]},Z=Object(T.c)({name:"category",initialState:Y,reducers:{clearSelected:function(e){e.tickedCategories=[]},toggleCategory:function(e,t){var n=t.payload;if(e.tickedCategories.find((function(e){return e===n.name})))return Object(F.a)(Object(F.a)({},e),{},{tickedCategories:e.tickedCategories.filter((function(e){return e!==n.name}))});e.tickedCategories.push(n.name)},uploadCategories:function(e,t){var n=t.payload;e.categories=n,e.tickedCategories=n.map((function(e){return e.name}))}},extraReducers:(q={},Object(y.a)(q,J.fulfilled,(function(){return Y})),Object(y.a)(q,K.fulfilled,(function(e,t){e.categories=t.payload})),Object(y.a)(q,z.fulfilled,(function(e,t){e.categories.push(t.payload)})),Object(y.a)(q,G.fulfilled,(function(e,t){var n=t.payload,a=n.oldCategory,r=n.newCategory,c=e.categories.findIndex((function(e){return e.name===a.name}));e.categories[c]=r})),Object(y.a)(q,V.fulfilled,(function(e,t){var n=t.payload,a=e.categories.filter((function(e){return e.name!==n.name}));e.categories=a})),q)}),ee=Z.reducer,te=Z.actions,ne=te.clearSelected,ae=te.toggleCategory,re=te.uploadCategories,ce=Object(T.b)("item/clear",Object(R.a)(M.a.mark((function e(){return M.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,H.item.clear();case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})))),ie=Object(T.b)("item/get",Object(R.a)(M.a.mark((function e(){var t;return M.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,H.item.toArray();case 2:return t=e.sent,e.abrupt("return",t);case 4:case"end":return e.stop()}}),e)})))),oe=Object(T.b)("item/add",function(){var e=Object(R.a)(M.a.mark((function e(t){return M.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,H.item.add(t);case 2:return e.abrupt("return",t);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),se=Object(T.b)("item/edit",function(){var e=Object(R.a)(M.a.mark((function e(t){var n,a,r;return M.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.oldItem,a=t.newItem,e.next=3,H.item.get({name:n.name});case 3:return r=e.sent,e.next=6,H.item.update(r.id,a);case 6:return e.abrupt("return",{oldItem:n,newItem:a});case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),le=Object(T.b)("item/delete",function(){var e=Object(R.a)(M.a.mark((function e(t){return M.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,H.item.where("name").equals(t.name).delete();case 2:return e.abrupt("return",t);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),ue=function(e){return e.item},de=Object(_.a)(ue,(function(e){return e.items})),je=Object(_.a)(ue,(function(e){return e.tickedItems})),be=Object(_.a)(ue,(function(e){return e.removedItems})),me={items:[],tickedItems:[],removedItems:[]},fe=Object(T.c)({name:"item",initialState:me,reducers:{clearTicked:function(e){e.tickedItems=[]},clearRemoved:function(e){e.removedItems=[]},toggleItem:function(e,t){var n=t.payload;if(e.tickedItems.find((function(e){return e===n.name})))return Object(F.a)(Object(F.a)({},e),{},{tickedItems:e.tickedItems.filter((function(e){return e!==n.name}))});e.tickedItems.push(n.name)},removeItem:function(e,t){var n=t.payload;if(e.removedItems.find((function(e){return e===n.name})))return Object(F.a)(Object(F.a)({},e),{},{removedItems:e.removedItems.filter((function(e){return e!==n.name}))});e.removedItems.push(n.name)},uploadItems:function(e,t){e.items=t.payload}},extraReducers:(U={},Object(y.a)(U,ce.fulfilled,(function(){return me})),Object(y.a)(U,ie.fulfilled,(function(e,t){e.items=t.payload})),Object(y.a)(U,oe.fulfilled,(function(e,t){e.items.push(t.payload)})),Object(y.a)(U,se.fulfilled,(function(e,t){var n=t.payload,a=n.oldItem,r=n.newItem,c=e.items.findIndex((function(e){return e.name===a.name})),i=e.tickedItems.map((function(e){return e===a.name?r.name:e})),o=e.removedItems.map((function(e){return e===a.name?r.name:e}));e.items[c]=r,e.tickedItems=i,e.removedItems=o})),Object(y.a)(U,le.fulfilled,(function(e,t){var n=t.payload,a=e.items.filter((function(e){return e.name!==n.name})),r=e.tickedItems.filter((function(e){return e!==n.name})),c=e.removedItems.filter((function(e){return e!==n.name}));return Object(F.a)(Object(F.a)({},e),{},{items:a,tickedItems:r,removedItems:c})})),Object(y.a)(U,G.fulfilled,(function(e,t){var n=t.payload.oldCategory.name,a=t.payload.newCategory.name,r=e.items.map((function(e){return e.category===n?Object(F.a)(Object(F.a)({},e),{},{category:a}):e}));e.items=r})),Object(y.a)(U,V.fulfilled,(function(e,t){var n=t.payload.name,a=e.items.filter((function(e){return e.category===n})).map((function(e){return e.name})),r=e.tickedItems.filter((function(e){return!a.includes(e)}));return{items:e.items.filter((function(e){return e.category!==n})),tickedItems:r}})),Object(y.a)(U,ae.type,(function(e,t){var n=t.payload,a=e.items.filter((function(e){return e.category===n.name})).map((function(e){return e.name})),r=e.tickedItems.filter((function(e){return!a.includes(e)})),c=e.removedItems.filter((function(e){return!a.includes(e)}));return Object(F.a)(Object(F.a)({},e),{},{tickedItems:r,removedItems:c})})),U)}),Oe=fe.reducer,pe=fe.actions,he=pe.clearTicked,ge=pe.clearRemoved,xe=pe.toggleItem,ve=pe.removeItem,ye=pe.uploadItems,ke=n(355),Ce=n(356),we=Object(l.a)((function(e){return{card:{margin:"".concat(e.spacing(2),"px auto"),width:"clamp(300px, 30%, 100%)",cursor:"pointer"},title:{textAlign:"center"}}})),Ie=function(e){var t=e.title,n=e.action,a=we();return Object(g.jsx)(ke.a,{variant:"outlined",className:a.card,onClick:n,children:Object(g.jsx)(Ce.a,{title:t,titleTypographyProps:{className:a.title}})})},Se=Object(l.a)({title:{textAlign:"center"},menu:{height:"100%",minHeight:"75vh",display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center"}}),Ne=function(){var e=Object(s.c)(Q),t=Object(s.b)(),n=Object(h.g)().push,r=Se(),c=Object(a.useCallback)((function(){t(K()),t(ie()),t(ne()),t(he()),t(ge()),n("/list")}),[t,n]),i=Object(a.useCallback)((function(){t(K()),t(ie()),n("/list")}),[t,n]);return Object(g.jsxs)(g.Fragment,{children:[Object(g.jsx)(w.a,{variant:"h5",gutterBottom:!0,className:r.title,children:"Main Menu"}),Object(g.jsxs)("section",{className:r.menu,children:[Object(g.jsx)(Ie,{title:"New List",action:c}),e.length>0&&Object(g.jsx)(Ie,{title:"Continue List",action:i}),Object(g.jsx)(Ie,{title:"Upload List",action:function(){return n("/upload")}})]})]})},Le=n(360),Ee=n(125),Ae=n(312),De=n(361),Be=n(383),Fe=n(362),Te=n(363),We=n(358),Me=n(359),Re=n(364),Pe=n(357),qe=function(){var e=Object(s.c)(Q),t=Object(s.c)(X),n=Object(s.c)(de),a=Object(s.c)(be),r=e.filter((function(e){return t.includes(e.name)})),c=n.filter((function(e){return t.includes(e.category)})).filter((function(e){return!a.includes(e.name)})),i=JSON.stringify({categories:r,items:c});return Object(g.jsx)(N.a,{title:"Download","aria-label":"download button",href:"data:text/json;charset=utf-8,".concat(encodeURIComponent(i)),download:"kitlist.json",children:Object(g.jsx)(Pe.a,{})})},Ue=Object(l.a)({ticked:{textDecoration:"line-through"}}),He=function(){var e=Object(s.c)(de),t=Object(s.c)(je),n=Object(s.c)(be),r=Object(s.c)(X),c=Object(s.b)(),i=O(),o=Ue(),l=Object(a.useCallback)((function(e){return function(){return c(xe(e))}}),[c]),u=Object(a.useCallback)((function(e){return function(){return c(ve(e))}}),[c]),d=e.filter((function(e){return r.includes(e.category)})).filter((function(e){return!n.includes(e.name)})),j=r.length>0,b=n.length>0,m=t.length>0;return 0===d.length?Object(g.jsx)(w.a,{variant:"h5",gutterBottom:!0,children:"Select a category to begin"}):Object(g.jsxs)(g.Fragment,{children:[Object(g.jsx)(w.a,{variant:"h5",gutterBottom:!0,children:"Check items off as you pack"}),Object(g.jsxs)("div",{children:[j&&Object(g.jsx)(qe,{}),m&&Object(g.jsx)(N.a,{title:"Uncheck All","aria-label":"uncheck all button",onClick:function(){return c(he())},children:Object(g.jsx)(We.a,{})}),b&&Object(g.jsx)(N.a,{title:"Show All","aria-label":"show all button",onClick:function(){return c(ge())},children:Object(g.jsx)(Me.a,{})})]}),Object(g.jsx)(Le.a,{component:Ee.a,className:i.list,children:d.map((function(e,n){return Object(g.jsxs)(Ae.a,{divider:!0,onClick:l(e),selected:t.includes(e.name),classes:{selected:o.ticked},children:[Object(g.jsx)(De.a,{children:Object(g.jsx)(Be.a,{edge:"start",checked:t.includes(e.name),tabIndex:-1,disableRipple:!0,inputProps:{"aria-labelledby":"checkbox-".concat(e.item)}})}),Object(g.jsx)(Fe.a,{primary:e.name,secondary:e.category}),Object(g.jsx)(Te.a,{children:Object(g.jsx)(N.a,{title:"Hide ".concat(e.name),edge:"end","aria-label":"hide",onClick:u(e),children:Object(g.jsx)(Re.a,{})})})]},n)}))})]})},Je=n(365),Ke=n(366),ze=Object(l.a)({header:{display:"flex",justifyContent:"space-between"}}),Ge=function(){var e=Object(s.c)(Q),t=Object(s.c)(X),n=Object(s.b)(),a=Object(h.g)().push,r=ze();return Object(g.jsx)(Le.a,{"aria-labelledby":"category-list",subheader:Object(g.jsxs)(Je.a,{className:r.header,children:["Categories"," ",Object(g.jsx)(N.a,{size:"small",title:"Edit Categories",onClick:function(){return a("/categories")},children:Object(g.jsx)(Ke.a,{})})]}),children:e.map((function(e,a){return Object(g.jsxs)(Ae.a,{children:[Object(g.jsx)(De.a,{children:Object(g.jsx)(Be.a,{edge:"start",checked:t.includes(e.name),tabIndex:-1,disableRipple:!0,inputProps:{"aria-labelledby":"checkbox-".concat(e.name)},onClick:function(){return n(ae(e))}})}),Object(g.jsx)(Fe.a,{primary:e.name})]},a)}))})},Ve=n(373),_e=n(374),$e=n(375),Qe=n(376),Xe=n(49),Ye=n(65),Ze=n(367),et=n(369),tt=n(370),nt=n(382),at=n(372),rt=n(368),ct=Object(l.a)({form:{display:"flex",flexDirection:"column"},close:{position:"absolute",top:0,right:0}}),it=function(e){var t=e.isOpen,n=e.onClose,a=e.isEdit,r=e.category,c=Object(s.c)(Q),i=Object(s.b)(),o=ct(),l={name:(null===r||void 0===r?void 0:r.name)||""},u=Ye.a({name:Ye.b().required("Enter a category name").test("unique","Category already exists",(function(e){return 0===(a?c.filter((function(t){return t.name.toLowerCase()===e.toLowerCase()&&t.name.toLowerCase()!==r.name.toLowerCase()})):c.filter((function(t){return t.name.toLowerCase()===e.toLowerCase()}))).length}))});return Object(g.jsxs)(Ze.a,{open:t,onClose:n,"aria-labelledby":"Add category dialog",fullWidth:!0,maxWidth:"sm",children:[Object(g.jsx)(N.a,{className:o.close,onClick:n,children:Object(g.jsx)(rt.a,{})}),Object(g.jsxs)(et.a,{children:[a?"Edit ".concat(r.name):"Add New"," Category"]}),Object(g.jsx)(tt.a,{children:Object(g.jsx)(Xe.c,{initialValues:l,validationSchema:u,onSubmit:function(e,t){var c=t.resetForm;if(a)return i(G({oldCategory:r,newCategory:e})),void n();i(z(e)),c()},children:function(e){var t=e.isSubmitting,n=e.handleChange;return Object(g.jsxs)(Xe.b,{className:o.form,children:[Object(g.jsx)(Xe.a,{children:function(e){var t=e.form;return Object(g.jsx)(nt.a,{id:"name",name:"name",label:"Name",value:t.values.name,onChange:n,error:Boolean(t.touched.name&&t.errors.name),helperText:t.touched.name&&t.errors.name&&String(t.errors.name)})}}),Object(g.jsx)(at.a,{children:Object(g.jsx)(d.a,{type:"submit",disabled:t,variant:"contained",color:"primary",children:"Submit"})})]})}})})]})},ot=Object(l.a)({close:{position:"absolute",top:0,right:0}}),st=function(e){var t=e.isOpen,n=e.onClose,r=e.category,c=Object(s.b)(),i=ot(),o=Object(a.useCallback)((function(){c(V(r)),n()}),[c,n,r]);return Object(g.jsxs)(Ze.a,{open:t,onClose:n,"aria-labelledby":"Delete category dialog",fullWidth:!0,maxWidth:"sm",children:[Object(g.jsx)(N.a,{className:i.close,onClick:n,children:Object(g.jsx)(rt.a,{})}),Object(g.jsx)(et.a,{children:"Delete Category"}),Object(g.jsxs)(tt.a,{children:["Are you sure you want to delete ",null===r||void 0===r?void 0:r.name,"? This will delete any items under this category as well."]}),Object(g.jsxs)(at.a,{children:[Object(g.jsx)(d.a,{variant:"contained",color:"primary",onClick:o,children:"Delete"}),Object(g.jsx)(d.a,{onClick:n,children:"Cancel"})]})]})},lt=function(){var e=Object(s.c)(Q),t=O(),n=Object(a.useState)(!1),r=Object(v.a)(n,2),c=r[0],i=r[1],o=Object(a.useState)(!1),l=Object(v.a)(o,2),u=l[0],j=l[1],b=Object(a.useState)(null),m=Object(v.a)(b,2),f=m[0],p=m[1],x=Object(h.g)().push,y=Object(a.useCallback)((function(){i(!1),p(null)}),[]),k=Object(a.useCallback)((function(e){return function(){p(e),i(!0)}}),[]),C=Object(a.useCallback)((function(){j(!1),p(null)}),[]),S=Object(a.useCallback)((function(e){return function(){p(e),j(!0)}}),[]);return Object(g.jsxs)(g.Fragment,{children:[Object(g.jsx)(w.a,{variant:"h5",gutterBottom:!0,children:"Manage Categories"}),Object(g.jsxs)(Ve.a,{variant:"text",children:[Object(g.jsx)(d.a,{startIcon:Object(g.jsx)(_e.a,{}),onClick:function(){return i(!0)},children:"Add New Category"}),Object(g.jsx)(d.a,{startIcon:Object(g.jsx)($e.a,{}),onClick:function(){return x("/items")},children:"Manage Items"})]}),Object(g.jsx)(I.a,{}),Object(g.jsx)(Le.a,{className:t.list,children:e.map((function(e,t){return Object(g.jsxs)(Ae.a,{divider:!0,children:[Object(g.jsx)(Fe.a,{primary:e.name}),Object(g.jsxs)(Te.a,{children:[Object(g.jsx)(N.a,{edge:"end","aria-label":"edit ".concat(e.name),title:"Edit ".concat(e.name),onClick:k(e),children:Object(g.jsx)(Ke.a,{})}),Object(g.jsx)(N.a,{edge:"end","aria-label":"delete ".concat(e.name),title:"Delete ".concat(e.name),onClick:S(e),children:Object(g.jsx)(Qe.a,{})})]})]},t)}))}),Object(g.jsx)(it,{isOpen:c,onClose:y,isEdit:Boolean(f),category:f}),Object(g.jsx)(st,{isOpen:u,onClose:C,category:f})]})},ut=n(378),dt=n(377),jt=Object(l.a)({form:{display:"flex",flexDirection:"column"},close:{position:"absolute",top:0,right:0}}),bt=function(e){var t,n=e.isOpen,a=e.onClose,r=e.isEdit,c=e.item,i=Object(s.c)(Q),o=Object(s.c)(de),l=Object(s.b)(),u=jt(),j={name:(null===c||void 0===c?void 0:c.name)||"",category:(null===c||void 0===c?void 0:c.category)||(null===(t=i[0])||void 0===t?void 0:t.name)||""},b=Ye.a({name:Ye.b().required("Enter an item name").test("unique","Item already exists",(function(e){return 0===(r?o.filter((function(t){return t.name.toLowerCase()===e.toLowerCase()&&t.name.toLowerCase()!==c.name.toLowerCase()})):o.filter((function(t){return t.name.toLowerCase()===e.toLowerCase()}))).length})),category:Ye.b().required("Select a category")});return Object(g.jsxs)(Ze.a,{open:n,onClose:a,"aria-labelledby":"Add item dialog",fullWidth:!0,maxWidth:"sm",children:[Object(g.jsx)(N.a,{className:u.close,onClick:a,children:Object(g.jsx)(rt.a,{})}),Object(g.jsxs)(et.a,{children:[r?"Edit ".concat(c.name):"Add New"," Item"]}),Object(g.jsx)(tt.a,{children:Object(g.jsx)(Xe.c,{initialValues:j,validationSchema:b,onSubmit:function(e,t){var n=t.resetForm;if(r)return l(se({oldItem:c,newItem:e})),void a();l(oe(e)),n()},children:function(e){var t=e.isSubmitting,n=e.handleChange;return Object(g.jsxs)(Xe.b,{className:u.form,children:[Object(g.jsx)(Xe.a,{children:function(e){var t=e.form;return Object(g.jsx)(nt.a,{id:"name",name:"name",label:"Name",value:t.values.name,onChange:n,error:Boolean(t.touched.name&&t.errors.name),helperText:t.touched.name&&t.errors.name&&String(t.errors.name)})}}),Object(g.jsx)(Xe.a,{children:function(e){var t=e.form;return Object(g.jsx)(nt.a,{id:"category",name:"category",label:"Category",select:!0,value:t.values.category,onChange:n,error:Boolean(t.touched.category&&t.errors.category),helperText:t.touched.category&&t.errors.category&&String(t.errors.category),children:i.map((function(e,t){return Object(g.jsx)(dt.a,{value:null===e||void 0===e?void 0:e.name,children:null===e||void 0===e?void 0:e.name},t)}))})}}),Object(g.jsx)(at.a,{children:Object(g.jsx)(d.a,{type:"submit",disabled:t,variant:"contained",color:"primary",children:"Submit"})})]})}})})]})},mt=Object(l.a)({close:{position:"absolute",top:0,right:0}}),ft=function(e){var t=e.isOpen,n=e.onClose,r=e.item,c=Object(s.b)(),i=mt(),o=Object(a.useCallback)((function(){c(le(r)),n()}),[c,n,r]);return Object(g.jsxs)(Ze.a,{open:t,onClose:n,"aria-labelledby":"Delete item dialog",fullWidth:!0,maxWidth:"sm",children:[Object(g.jsx)(N.a,{className:i.close,onClick:n,children:Object(g.jsx)(rt.a,{})}),Object(g.jsx)(et.a,{children:"Delete Item"}),Object(g.jsxs)(tt.a,{children:["Are you sure you want to delete ",null===r||void 0===r?void 0:r.name,"?"]}),Object(g.jsxs)(at.a,{children:[Object(g.jsx)(d.a,{variant:"contained",color:"primary",onClick:o,children:"Delete"}),Object(g.jsx)(d.a,{onClick:n,children:"Cancel"})]})]})},Ot=function(){var e=Object(s.c)(de),t=Object(h.g)().push,n=O(),r=Object(a.useState)(!1),c=Object(v.a)(r,2),i=c[0],o=c[1],l=Object(a.useState)(!1),u=Object(v.a)(l,2),j=u[0],b=u[1],m=Object(a.useState)(null),f=Object(v.a)(m,2),p=f[0],x=f[1],y=Object(a.useCallback)((function(){o(!1),x(null)}),[]),k=Object(a.useCallback)((function(e){return function(){x(e),o(!0)}}),[]),C=Object(a.useCallback)((function(){b(!1),x(null)}),[]),S=Object(a.useCallback)((function(e){return function(){x(e),b(!0)}}),[]);return Object(g.jsxs)(g.Fragment,{children:[Object(g.jsx)(w.a,{variant:"h5",gutterBottom:!0,children:"Manage Items"}),Object(g.jsxs)(Ve.a,{variant:"text",children:[Object(g.jsx)(d.a,{startIcon:Object(g.jsx)(_e.a,{}),onClick:function(){return o(!0)},children:"Add New Item"}),Object(g.jsx)(d.a,{startIcon:Object(g.jsx)(ut.a,{}),onClick:function(){return t("/categories")},children:"Manage Categories"})]}),Object(g.jsx)(I.a,{}),Object(g.jsx)(Le.a,{className:n.list,children:e.map((function(e,t){return Object(g.jsxs)(Ae.a,{divider:!0,children:[Object(g.jsx)(Fe.a,{primary:e.name,secondary:e.category}),Object(g.jsxs)(Te.a,{children:[Object(g.jsx)(N.a,{edge:"end","aria-label":"edit ".concat(e.name),title:"Edit ".concat(e.name),onClick:k(e),children:Object(g.jsx)(Ke.a,{})}),Object(g.jsx)(N.a,{edge:"end","aria-label":"delete ".concat(e.name),title:"Delete ".concat(e.name),onClick:S(e),children:Object(g.jsx)(Qe.a,{})})]})]},t)}))}),Object(g.jsx)(bt,{isOpen:i,onClose:y,isEdit:Boolean(p),item:p}),Object(g.jsx)(ft,{isOpen:j,onClose:C,item:p})]})},pt=n(176),ht=function(e){return new Promise((function(t,n){var a=new FileReader;a.onabort=n,a.onerror=n,a.onload=function(){return t(a.result)},a.readAsText(e)}))},gt=function(){var e=Object(s.b)(),t=Object(h.g)().push,n=Object(m.b)().enqueueSnackbar,a=function(){n("An error occurred",{variant:"error",id:"error-upload"})},r=function(){var r=Object(R.a)(M.a.mark((function r(c){var i,o;return M.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.prev=0,r.next=3,ht(c[0]);case 3:i=r.sent,o=JSON.parse(i),n("File successfully uploaded",{variant:"success",id:"success-upload"}),e(re(o.categories)),e(ye(o.items)),r.next=13;break;case 10:r.prev=10,r.t0=r.catch(0),a();case 13:return r.prev=13,setTimeout((function(){return t("/list")}),500),r.finish(13);case 16:case"end":return r.stop()}}),r,null,[[0,10,13,16]])})));return function(e){return r.apply(this,arguments)}}();return Object(g.jsxs)(g.Fragment,{children:[Object(g.jsx)(w.a,{variant:"h5",gutterBottom:!0,children:"Upload List"}),Object(g.jsx)(pt.a,{acceptedFiles:["application/json"],showAlerts:!1,onDrop:r,onDropRejected:a})]})},xt=function(){!function(){var e=Object(m.b)().enqueueSnackbar,t=x(),n=Object(a.useCallback)((function(n){var a;if(window.location.origin===n.origin&&(null===n||void 0===n||null===(a=n.data)||void 0===a?void 0:a.tag))switch(n.data.tag){case"update":var r=function(){navigator.serviceWorker.controller.postMessage({type:"SKIP_WAITING"}),window.location.reload()};e("An update is available",{variant:"info",key:"update",action:function(){return Object(g.jsx)(g.Fragment,{children:Object(g.jsx)(d.a,{className:t.button,onClick:r,children:"Update"})})}});break;case"installed":e("Home is now installed",{variant:"info",key:"installed"});break;case"offline":e("Home is running in offline mode",{variant:"info",key:"offline"})}}),[e,t]);Object(a.useEffect)((function(){return window.addEventListener("message",n),function(){return window.removeEventListener("message",n)}}))}();var e=Object(h.h)().pathname;return Object(g.jsx)(B,{sideBarContent:"/list"===e?Object(g.jsx)(Ge,{}):null,children:Object(g.jsxs)(h.d,{children:[Object(g.jsx)(h.b,{path:"/upload",exact:!0,component:gt}),Object(g.jsx)(h.b,{path:"/items",exact:!0,component:Ot}),Object(g.jsx)(h.b,{path:"/categories",exact:!0,component:lt}),Object(g.jsx)(h.b,{path:"/list",exact:!0,component:He}),Object(g.jsx)(h.b,{path:"/",exact:!0,component:Ne}),Object(g.jsx)(h.a,{to:"/"})]})})},vt=Object(l.a)((function(e){return{variantSuccess:{backgroundColor:e.palette.success.main},variantInfo:{backgroundColor:e.palette.info.main},variantWarning:{backgroundColor:e.palette.warning.main},variantError:{backgroundColor:e.palette.error.main}}})),yt=Object(l.a)((function(e){return{button:{color:e.palette.common.white}}})),kt=function(){var e=yt(),t=vt(),n=Object(a.createRef)(),r=function(e){return function(){return n.current.closeSnackbar(e)}};return Object(g.jsx)(m.a,{preventDuplicate:!0,anchorOrigin:{vertical:"top",horizontal:"right"},TransitionComponent:u.a,autoHideDuration:5e3,classes:t,ref:n,action:function(t){return Object(g.jsx)(d.a,{className:e.button,onClick:r(t),children:"Dismiss"})},children:Object(g.jsx)(xt,{})})},Ct=function(){var e=p();return Object(g.jsxs)(b.a,{theme:e,children:[Object(g.jsx)(j.a,{}),Object(g.jsx)(kt,{})]})},wt=Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));function It(e,t){navigator.serviceWorker.register(e).then((function(e){e.onupdatefound=function(){var n=e.installing;null!=n&&(n.onstatechange=function(){"installed"===n.state&&(navigator.serviceWorker.controller?(e.waiting.postMessage({type:"SKIP_WAITING"}),postMessage({tag:"update"}),t&&t.onUpdate&&t.onUpdate(e)):(postMessage({tag:"installed"}),t&&t.onSuccess&&t.onSuccess(e)))})}})).catch((function(e){console.error("Error during service worker registration:",e)}))}var St=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,384)).then((function(t){var n=t.getCLS,a=t.getFID,r=t.getFCP,c=t.getLCP,i=t.getTTFB;n(e),a(e),r(e),c(e),i(e)}))},Nt=Object(T.a)({reducer:{category:ee,item:Oe}});i.a.render(Object(g.jsx)(r.a.StrictMode,{children:Object(g.jsx)(s.a,{store:Nt,children:Object(g.jsx)(o.a,{basename:"/kitlist",children:Object(g.jsx)(Ct,{})})})}),document.getElementById("root")),function(e){if("serviceWorker"in navigator){if(new URL("/kitlist",window.location.href).origin!==window.location.origin)return;window.addEventListener("load",(function(){var t="".concat("/kitlist","/service-worker.js");wt?function(e,t){fetch(e,{headers:{"Service-Worker":"script"}}).then((function(n){var a=n.headers.get("content-type");404===n.status||null!=a&&-1===a.indexOf("javascript")?navigator.serviceWorker.ready.then((function(e){e.unregister().then((function(){window.location.reload()}))})):It(e,t)})).catch((function(){postMessage({tag:"offline"})}))}(t,e):It(t,e)}))}}(),St()}},[[308,1,2]]]);
//# sourceMappingURL=main.fcef4595.chunk.js.map